/*! zther-lib 22-01-2014 */
var zther=zther||{};zther.geom=zther.geom||{},zther.geom.Ellipse=function(a,b,c,d){"use strict";this.x=a,this.y=b,this.width=c,this.height=d,Object.defineProperty(this,"center",{get:function(){return new zther.geom.Point(this.x+.5*this.width,this.y+.5*this.height)},set:function(a){if(!(a instanceof zther.geom.Point))throw"argument must be of type zther.geom.Point";this.x=a.x-.5*this.width,this.y=a.y-.5*this.height}}),Object.defineProperty(this,"size",{get:function(){return new zther.geom.Point(this.width,this.height)}}),Object.defineProperty(this,"perimeter",{get:function(){return Math.sqrt(.5*(Math.pow(this.width,2)+Math.pow(this.height,2)))*Math.PI*2*.5}}),Object.defineProperty(this,"area",{get:function(){return.5*Math.PI*this.width*.5*this.height}}),this.getPointOfDegree=function(a){var b=(a-90)*(Math.PI/180),c=.5*this.width,d=.5*this.height;return new zther.geom.Point(this.x+c+Math.cos(b)*c,this.y+d+Math.sin(b)*d)},this.containsPoint=function(a){var b=.5*this.width,c=.5*this.height,d=a.x-this.x-b,e=a.y-this.y-c;return Math.pow(d/b,2)+Math.pow(e/c,2)<=1},this.equals=function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},this.clone=function(){return new zther.geom.Ellipse(this.x,this.y,this.width,this.height)}};var zther=zther||{};zther.geom=zther.geom||{},zther.geom.Point=function(a,b){"use strict";this.x=a,this.y=b};var zther=zther||{};zther.geom=zther.geom||{},zther.geom.Polygon=function(a){"use strict";function b(a,b){this.a=a,this.b=b}function c(a,b){var c=function(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)};return c(a.a,b.a,b.b)!=c(a.b,b.a,b.b)&&c(a.a,a.b,b.a)!=c(a.a,a.b,b.b)}this.vertices=a[0]instanceof zther.geom.Point?a:a.map(function(a){return new zther.geom.Point(a[0],a[1])}),this.sides=[];for(var d=0;d<this.vertices.length;d++)this.sides[d]=d==this.vertices.length-1?new b(this.vertices[d],this.vertices[0]):new b(this.vertices[d],this.vertices[d+1]);this.containsPoint=function(a){var e=0,f=new zther.geom.Point(Math.min.apply(Math,this.vertices.map(function(a){return a.x}))-1,Math.min.apply(Math,this.vertices.map(function(a){return a.y}))-1),g=new b(a,f);for(d=0;d<this.sides.length;d++)c(g,this.sides[d])&&e++;return e%2}};var zther=zther||{};zther.geom=zther.geom||{},zther.geom.Rectangle=function(a,b,c,d){"use strict";this.x=a,this.y=b,this.width=c,this.height=d,this.contains=function(a,b){return this.x<=a&&this.x+this.width>=a&&this.y<=b&&this.y+this.height>=b},this.containsPoint=function(a){if(a instanceof zther.geom.Point)return this.contains(a.x,a.y);throw"zther.geom.Rectangle.containsPoint() method requires instance of zther.geom.Point"}};var zther=zther||{};zther.geom=zther.geom||{},zther.geom.Square=function(a){"use strict";function b(a,b,c){return c.x*b.y-b.x*c.y-(c.x*a.y-a.x*c.y)+(b.x*a.y-a.x*b.y)}var c=0,d=0,e=0,f=0;if(this.points=[],!(a[0]instanceof zther.geom.Point&&4==a.length))throw"zther.geom.Square requires for points";this.points=a,c=a[0],d=a[1],e=a[2],f=a[3],this.containsPoint=function(a){return b(c,d,a)>0||b(d,e,a)>0||b(e,f,a)>0||b(f,c,a)>0?!1:!0}};var zther=zther||{};zther.util=zther.util||{},zther.util.GeomUtil={normalizeDegree:function(a){"use strict";return a%=360,0>a?a+360:a}};var zther=zther||{};zther.util=zther.util||{},zther.util.NumberUtil={isEven:function(a){"use strict";return 0===(1&a)}};var zther=zther||{};zther.util=zther.util||{},zther.util.RatioUtil={widthToHeight:function(a){"use strict";return a.width/a.height},heightToWidth:function(a){"use strict";return a.height/a.width}};